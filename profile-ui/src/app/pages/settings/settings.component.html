<div class="wrapper">
    <div class="main-panel" style="width: 100%;">
        <div class="content" style="min-height:calc(100vh - 165px);;">
            <div class="card card-stats" style="max-width: 500px;margin:auto">
                <div class="card-header" style="text-align:center;">
                    <h1>Settings</h1>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-8 col-md-8">
                            <form (ngSubmit)="postUpdateProfile()" #profileForm="ngForm" *ngIf="ready">
                                <div class="form-group">
                                    <label for="email">
                                        Email address
                                    </label>
                                    <input type="email" class="form-control" id="email" required
                                        pattern="^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$"
                                        [(ngModel)]="model.email" placeholder="lab@datacentricdesign.org" name="email"
                                        #email="ngModel" />
                                    <div *ngIf="email.touched && email.invalid" class="alert alert-danger">
                                        <div *ngIf="email.errors.required">
                                            An email is required
                                        </div>
                                        <div *ngIf="email.errors.pattern">
                                            This email address is not valid.
                                        </div>
                                    </div>

                                    <label for="first">First Name</label>
                                    <input type="text" class="form-control" id="first" required
                                        [(ngModel)]="model.first" name="first" #first="ngModel">
                                    <div [hidden]="first.valid || first.pristine" class="alert alert-danger">A first
                                        name is
                                        required</div>

                                    <label for="last">Last Name</label>
                                    <input type="text" class="form-control" id="last" required [(ngModel)]="model.last"
                                        name="last" #last="ngModel">
                                    <div [hidden]="last.valid || last.pristine" class="alert alert-danger">A last name
                                        is
                                        required</div>
                                </div>

                                <div>
                                    <div *ngIf="error !== undefined" class="alert alert-danger" role="alert">
                                        <p *ngIf="error._hint !== undefined" class="danger">{{error._hint}}</p>
                                    </div>

                                    <input type="submit" id="submitProfile" name="submitProfile" value="Update profile" class="btn btn-info"
                                        [disabled]="!profileForm.form.valid">
                                </div>
                            </form>

                            <hr>

                            <form (ngSubmit)="postUpdatePassword()" #passwordForm="ngForm" *ngIf="ready">
                                <div class="form-group">
                                    <label for="password">Password (at least 8 characters)</label>
                                    <div class="input-group">
                                        <input class="form-control" id="password" required minlength="8"
                                            [type]="fieldTextPasswordType ? 'text' : 'password'"
                                            [(ngModel)]="model.password" name="password" #password="ngModel" />
                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                <i class="fa"
                                                    [ngClass]="{ 'fa-eye-slash': !fieldTextPasswordType, 'fa-eye': fieldTextPasswordType }"
                                                    (click)="toggleFieldTextPasswordType()"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div *ngIf="password.invalid && (password.dirty || password.touched)"
                                        class="alert alert-danger">
                                        <div *ngIf="password.errors.required">
                                            A password is required
                                        </div>
                                        <div *ngIf="password.errors.minlength">
                                            Your password must be at least 8 characters long.
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div *ngIf="error !== undefined" class="alert alert-danger" role="alert">
                                        <p *ngIf="error._hint !== undefined" class="danger">{{error._hint}}</p>
                                    </div>

                                    <input type="submit" id="submitPassword" name="submitPassword" value="Update password" class="btn btn-info"
                                        [disabled]="!passwordForm.form.valid">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="card-footer ">
                    <hr>
                    <span style="float: right;text-align:right;padding-top: 5px;">
                        <a href="./signout">Sign out</a>
                    </span>
                </div>
            </div>
        </div>
        <footer-cmp></footer-cmp>
    </div>
</div>